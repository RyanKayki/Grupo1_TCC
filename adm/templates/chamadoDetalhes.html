{% extends 'modeladm.html' %}

{% block conteudo %}

<div class="detalhes-chamado">
    <a href="#" onclick="history.back(); return false;">
        <img src="{{ url_for('static', filename='img/back-arrow.png') }}" alt="Voltar" class="icone-voltar">
    </a>
    <h2 class="titulo-chamado">Chamado</h2>

    <div class="chamado-detalhes">
        <img 
            src="{{ url_for('tec.serve_image', filename=chamado.imgChamado) if chamado.imgChamado else placeholder_image }}" 
            class="chamado-imagem-detalhes" 
            onerror="this.onerror=null; this.src='{{ placeholder_image }}';"
            alt="Imagem do chamado">

        <h3 class="chamado-item">{{ chamado.nomeItem }}</h3>
        <p class="descricao-chamado">{{ chamado.descricao }}</p>
        <p class="usuario-cargo">{{ chamado.nomeCargo }}</p>

        {% if chamado.resposta %}
            <div class="resposta-card">
                <h4 class="titulo-resposta">Resposta</h4>
                <p class="resposta-usuario">{{ chamado.respostaUsuario }}</p>
                <p class="texto-resposta">{{ chamado.respostaTexto }}</p>
            </div>
        {% endif %}
    </div>
</div>

<style>
    body {
        font-family: Poppins, sans-serif;
        margin: 0;
        padding: 0;
        height: 100vh;
        overflow: hidden;
        background-color: #F7F9FA;
    }

    .detalhes-chamado {
        max-width: 500px;
        margin: 20px auto;
        padding: 20px;
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .icone-voltar {
        width: 24px;
        height: 24px;
        margin-bottom: 20px;
        cursor: pointer;
    }

    .titulo-chamado {
        font-size: 24px;
        font-weight: 700;
        color: #225656;
        text-align: center;
        margin-bottom: 20px;
    }

    .chamado-detalhes {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
    }

    .chamado-imagem-detalhes {
        width: 160px;
        height: 160px;
        object-fit: cover;
        border-radius: 12px;
        margin-bottom: 20px;
    }

    .chamado-item {
        font-size: 20px;
        font-weight: bold;
        color: #225656;
        margin-bottom: 10px;
    }

    .descricao-chamado {
        font-size: 16px;
        color: #333333;
        margin-bottom: 10px;
    }

    .usuario-cargo {
        font-size: 14px;
        color: #555555;
        margin-bottom: 20px;
    }

    .resposta-card {
        background-color: #E0E0E0;
        padding: 15px;
        border-radius: 8px;
        width: 100%;
        text-align: left;
    }

    .titulo-resposta {
        font-size: 16px;
        font-weight: bold;
        color: #225656;
        margin-bottom: 5px;
    }

    .resposta-usuario {
        font-size: 14px;
        font-weight: bold;
        color: #333333;
    }

    .texto-resposta {
        font-size: 14px;
        color: #555555;
    }
</style>

{% endblock %}
